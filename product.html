<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="product.css">
</head>

<body>
    <!--text-h1  checkbox-類型  label-價格查詢  text-搜尋-->
    <div class="container">
        <h1>XX產品清單/查詢</h1>
    </div>
    <div class="item">
        <nav id="productSearch">
            <label for="productNumber">產品編號：</label>
            <input type="text" id="productNumber" name="productNumber">
            <button type="search">查詢</button>
        </nav>
        <form id="product_type">
            <input type="checkbox" name="types" value="menu1">
            <label for="menu1">3C</label>
            <input type="checkbox" name="types" value="menu2">
            <label for="menu2">飲料</label>
            <input type="checkbox" name="types" value="menu3">
            <label for="menu3">食品</label>
        </form>

        <div class="price_search">
            <label for="price">價錢搜尋：</label>
            <select id="price_product">
                <option value="1">全部</option>
                <option value="2">100元以下</option>
                <option value="3">100~500元</option>
                <option value="4">500~1000元</option>
                <option value="5">1000元以上</option>
            </select>
        </div>
    </div>
    <hr />
    <div class="wrap">
        <div class="table table-bordered table-striped" id="product_practice"></div>
    </div>

    <!-- <thead>
            <tr>
                <th>產品編號</th>
                <th>產品名稱</th>
                <th>數量</th>
                <th>價錢</th>
                <th>產品類型</th>
            </tr>
        </thead> -->
    <!-- <tbody>
            <tr>
                <td>P001</td>
                <td>iPhone 14</td>
                <td>0</td>
                <td>45000</td>
                <td>3C</td>
            </tr>
        </tbody>
    </table> -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous">
        </script>

    <script type="module">
        import { product } from "./product.js"

        //初始表格
        const tableContainer = document.querySelector("#product_practice");
        const table = document.createElement("table");
        const headerRow = document.createElement("tr");
        const headerColumns = ["商品編號", "商品名稱", "數量", "價格", "商品類別"];
        headerColumns.forEach(columnName => {
            const column = document.createElement("th");
            column.textContent = columnName;
            headerRow.appendChild(column);
        });
        table.appendChild(headerRow);

        product.forEach(item => {
            const row = document.createElement("tr");
            row.innerHTML =
                `<td>${item.ProductNumber}</td>
            <td>${item.ProductName}</td>
            <td>${item.Amount}</td>
            <td>${item.Price}</td>
            <td>${item.ProductType}</td>`;
            table.appendChild(row);
        });
        tableContainer.appendChild(table);

        //產品編號查詢
        const nav = document.querySelector('nav');
        nav.addEventListener('search', function (event) {
            event.preventDefault();
            const productNumber = document.querySelector('#productNumber').value;
            const product = getProductByID(productNumber);
            renderProduct(product);
        });

        import productList from './product.js';
        function getProductByNumber(productNumber){
            const product = productList.find(item => item.productNumber === productNumber);
            return product;
        }



        //產品類型的checkbox
        // const form = document.querySelector('for');
        // form.addEventListener('submit', function (event) {
        //     event.preventDefault();

        //     const checkedValues = Array.from(form.querySelectorAll('input[type="checkbox"]:checked')).map(input => input.value);

        //     const typesedList = originalList.types(item => checkedValues.includes(item.category));

        //     renderList(typesedList);
        // })



    </script>



</body>

</html>
